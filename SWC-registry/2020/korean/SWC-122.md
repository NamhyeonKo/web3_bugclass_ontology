# 알림: 이 콘텐츠는 더 이상 적극적으로 유지되지 않습니다.

SWC 레지스트리의 내용은 2020년 이후 철저하게 업데이트되지 않았습니다. 불완전하고 오류가 포함되어 있으며 중요한 누락이 있을 수 있습니다.

보안 검토자를 위한 지침으로 작성된 현재 유지되는 스마트 컨트랙트 취약점에 대한 안내는
[EEA EthTrust Security Levels specification](https://entethalliance.org/specs/ethtrust-sl)을 참조하십시오. 최신 릴리스 버전과 함께 사양을 개발하는 그룹의 최신 작업을 나타내는
[Editor's draft](https://entethalliance.github.io/eta-registry/security-levels-spec.html)도 제공됩니다.

현재 유지되고 있는 개발자를 위한 보안 고려사항에 대한 일반적인 지침은
[Smart Contract Security Verification Standard (SCSVS)](https://github.com/ComposableSecurity/SCSVS)를 통해서도 제공됩니다.

# 제목

적절한 서명 검증의 부재

## 관계

[CWE-345: Insufficient Verification of Data Authenticity](https://cwe.mitre.org/data/definitions/345.html)

## 설명

스마트 컨트랙트 시스템이 사용자에게 직접 온체인 트랜잭션을 요청하는 대신 오프체인에서 메시지에 서명하도록 허용하는 것은 일반적인 패턴입니다. 이는 유연성과 향상된 전송성을 제공하기 때문입니다. 서명된 메시지를 처리하는 스마트 컨트랙트 시스템은 메시지를 추가로 처리하기 전에 서명된 메시지로부터 진위를 복구하는 자체 로직을 구현해야 합니다. 이러한 시스템의 한계는 스마트 컨트랙트가 메시지에 서명할 수 없기 때문에 직접 상호작용할 수 없다는 것입니다. 일부 서명 검증 구현은 이러한 제한이 없는 다른 방법을 기반으로 서명된 메시지의 유효성을 가정함으로써 이 문제를 해결하려고 시도합니다. 이러한 방법의 예는 `msg.sender`에 의존하고 서명된 메시지가 발신자 주소에서 시작되었다면 발신자 주소에 의해 생성되었다고 가정하는 것입니다. 이는 특히 프록시를 사용하여 트랜잭션을 중계할 수 있는 시나리오에서 취약점으로 이어질 수 있습니다.

## 해결방법

`ecrecover()`를 통한 적절한 서명 검증이 필요하지 않은 대체 검증 방식을 사용하는 것은 권장되지 않습니다.

## 참고자료

- [Consensys Diligence 0x Audit Report - Insecure signature validator](https://github.com/ConsenSys/0x_audit_report_2018-07-23#32-mixinsignaturevalidator-insecure-signature-validator-signaturetypecaller)

# 주의: 이 콘텐츠는 더 이상 적극적으로 유지관리되지 않습니다.

SWC 레지스트리의 콘텐츠는 2020년 이후로 철저하게 업데이트되지 않았습니다. 불완전한 것으로 알려져 있으며 오류와 중요한 누락이 포함될 수 있습니다.

보안 검토자를 위한 가이드로 작성된 알려진 스마트 컨트랙트 취약점에 대한 현재 유지관리되는 가이던스는
[EEA EthTrust Security Levels specification](https://entethalliance.org/specs/ethtrust-sl)을 참조하십시오. 최신 릴리스 버전뿐만 아니라
[Editor's draft](https://entethalliance.github.io/eta-registry/security-levels-spec.html)도 제공되며,
이는 사양을 개발하는 그룹의 최신 작업을 나타냅니다.

개발자가 보안을 보장하기 위해 고려해야 할 사항에 대한 현재 유지관리되는 일반 가이던스는
[Smart Contract Security Verification Standard (SCSVS)](https://github.com/ComposableSecurity/SCSVS)를 통해서도 제공됩니다.

# 제목

부동 프라그마

## 관계

- [CWE-664: Improper Control of a Resource Through its Lifetime](https://cwe.mitre.org/data/definitions/664.html)
- EEA EthTrust Security Levels:
  - [**Level [S]** Improved Compilers](https://entethalliance.org/specs/ethtrust-sl/#sec-1-compile-improvements)
  - [**Level [S]** Compiler Security Bugs](https://entethalliance.org/specs/ethtrust-sl/#sec-1-compiler-bugs)
  - [**Level [M]** Compiler Bugs and Overriding Requirements](https://entethalliance.org/specs/ethtrust-sl/#sec-level-2-compiler-bugs)
  - [**Recommended Practice** Use the Latest Compiler](https://entethalliance.org/specs/ethtrust-sl/#req-R-use-latest-compiler)

## 설명

컨트랙트는 철저하게 테스트된 동일한 컴파일러 버전과 플래그로 배포되어야 합니다. 프라그마를 잠그면 예를 들어 컨트랙트 시스템에 부정적인 영향을 미치는 버그를 도입할 수 있는 구식 컴파일러 버전을 사용하여 컨트랙트가 실수로 배포되지 않도록 할 수 있습니다.

## 해결방법

프라그마 버전을 잠그고 선택한 컴파일러 버전에 대한 알려진 버그(https://github.com/ethereum/solidity/releases)도 고려하십시오.

라이브러리나 EthPM 패키지의 컨트랙트처럼 컨트랙트가 다른 개발자의 사용을 위한 것일 때는 프라그마 문을 부동으로 허용할 수 있습니다. 그렇지 않으면 개발자가 로컬에서 컴파일하기 위해 프라그마를 수동으로 업데이트해야 합니다.

## 참고자료

- [Ethereum Smart Contract Best Practices - Locking Pragmas](https://consensys.github.io/smart-contract-best-practices/development-recommendations/solidity-specific/locking-pragmas/)

## 샘플

### floating_pragma.sol

```solidity
pragma solidity ^0.4.0;

contract PragmaNotLocked {
    uint public x = 1;
}

```

### floating_pragma_fixed.sol

```solidity
pragma solidity 0.4.25;

contract PragmaFixed {
    uint public x = 1;
}

```

### no_pragma.sol

```solidity

contract PragmaNotLocked {
    uint public x = 1;
}

```

### semver_floating_pragma.sol

```solidity
pragma solidity >=0.4.0 < 0.6.0;
pragma solidity >=0.4.0<0.6.0;
pragma solidity >=0.4.14 <0.6.0;
pragma solidity >0.4.13 <0.6.0;
pragma solidity 0.4.24 - 0.5.2;
pragma solidity >=0.4.24 <=0.5.3 ~0.4.20;
pragma solidity <0.4.26;
pragma solidity ~0.4.20;
pragma solidity ^0.4.14;
pragma solidity 0.4.*;
pragma solidity 0.*;
pragma solidity *;
pragma solidity 0.4;
pragma solidity 0;

contract SemVerFloatingPragma {
}

```

### semver_floating_pragma_fixed.sol

```solidity
pragma solidity 0.4.25;
// or
pragma solidity =0.4.25;

contract SemVerFloatingPragmaFixed {
}

```
